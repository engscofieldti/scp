<?xml version="1.0" encoding="UTF-8"?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:p="http://primefaces.org/ui">
   <h:head style="background-color:rgb(72,181,163)">
       <title>Modulo de Consulta y Reportes ...</title>
   </h:head>
      <h:body>
         <h2>Modulo de seleccion de variables</h2>
      <hr />
      <h:form> 
        <!--<h:form style="background-color:rgb(148,168,208)" enctype="multipart/form-data" >  -->
         <p:messages autoUpdate="true" />  
        <h:panelGrid columns="6"   style="margin-bottom:10px;font-size: 10px;background-color: rgb(117,137,191)" cellpadding="5" border="3">
   
    <h:panelGrid columns="1" cellpadding="5" border="1" style="margin-bottom:10px"  >
    <h3 style="margin-top:0px">Seleccione SubtituloConv </h3>
           <p:selectOneMenu value="#{subtMB.selectedSubt}"  effect="fade" >  
        <f:selectItem itemLabel="Selecciona un subtitulo" itemValue="" />  
        <f:selectItems value="#{subtMB.subts}" var="subt" itemLabel="#{subt.cod}" itemValue="#{subt}"/>  
    </p:selectOneMenu> 
    </h:panelGrid>
     <h:panelGrid columns="1"  border="1"> 
      <h3 style="margin-top:0px">Subtitulo 21 - ItemConv</h3>
     <p:selectManyCheckbox id="item" value="#{itemMB.itemSelected}" binding="#{checkbox}" layout="grid" columns="1" >
	     <f:selectItems value="#{itemMB.items}" var="item" 
	     				itemLabel="#{item.descItem}" itemValue="#{item}" 
	     				/>  <!--itemDisabled="#{not checkbox.value}" noSelectionValue="#{panelUsuario.item[0]}"  -->
	    <ui:remove> <p:ajax event="change" process="item" update="gridAsignacion" /></ui:remove>
	     </p:selectManyCheckbox>
     </h:panelGrid>
      <h:panelGrid columns="1" border="1" id="gridAsignacion"> 
   <h3 style="margin-top:0px">Subtitulo 21 - Asignaci√≥nConv</h3>
   
    <p:selectManyCheckbox id="asignacion" value="#{asignacionMB.asignacionSelected}" binding="#{checkbox}" layout="grid" columns="1" >
       <f:selectItems value="#{asignacionMB.asignaciones}" var="asignacion" itemLabel="#{asignacion.descAsig}" itemValue="#{asignacion}"   />
    <p:ajax event="change" process="asignacion" update="gridZonas" />
      </p:selectManyCheckbox>
    
    </h:panelGrid>
     <h:panelGrid columns="1" cellpadding="5" border="3" id="gridZonas">
     <h3 style="margin-top:0px">Detalle Zonas</h3>
      	<p:selectManyCheckbox id="detallezonas" value="#{panelUsuario.zonasSelec}" layout="grid" columns="1">
      		<f:selectItems value="#{panelUsuario.zonas}" var="zona" itemLabel="#{zona}" itemValue="#{zona}" itemDisabled="#{panelUsuario.zonasDisabled(zona)}" />
    	<ui:remove>
    	 <p:ajax event="change" process="detallezonas" update="gridAsignacion" /> 
    	 <p:ajax event="change" process="detallezonas" update="gridPeriMensual" />
    	 <p:ajax event="change" process="detallezonas" update="gridPeriMensual2" />
    	</ui:remove>
    	
    	</p:selectManyCheckbox>
    </h:panelGrid>
     <h:panelGrid columns="1" cellpadding="5" border="3" id="gridSubZonas">
     <h3 style="margin-top:0px">Detalle SubZonas</h3>
      	<p:selectManyCheckbox id="detallesubzonas" value="#{panelUsuario.subZonasSelec}" layout="grid" columns="1">
      		<f:selectItems value="#{panelUsuario.subZonas}" var="zona" itemLabel="#{zona}" itemValue="#{zona}" itemDisabled="#{panelUsuario.zonasDisabled(zona)}" />
    	    	</p:selectManyCheckbox>
    </h:panelGrid>
    <ui:remove>
         <h:panelGrid columns="1" cellpadding="5" border="1" id="gridPeriMensual2">
      <h3 style="margin-top:0px">Periodo mensualTEST</h3>
    <p:selectManyCheckbox id="periodoMensual2" value="#{panelUsuario.periodoMensSelec}" layout="grid" columns="1" >
     <f:selectItems value="#{panelUsuario.periodoMens}" var="periodoMen" itemLabel="#{periodoMen}" itemValue="#{periodoMen}"
      itemDisabled="#{panelUsuario.mesesDisabled(periodoMen)}"/>
       <ui:remove>
      <p:ajax event="change" process="periodoMensual2" update="gridZonas" /> 
      </ui:remove>
      </p:selectManyCheckbox>
      </h:panelGrid>
      </ui:remove>
      </h:panelGrid>
     <h:panelGrid columns="1" border="1" style="margin-bottom:10px;font-size: 10px;background-color: rgb(148,168,208)" id="gridUE">
     <h3 style="margin-top:0px">Unidades Ejecutoras</h3>
     <p:selectManyCheckbox id="unidadesEjecutoras" value="#{panelUsuario.uniEjeSelec}" layout="grid" columns="1">
       <f:selectItems value="#{panelUsuario.unidadesEjecutoras}" var="unidadesEjecutoras" itemLabel="#{unidadesEjecutoras}" itemValue="#{unidadesEjecutoras}" />
      </p:selectManyCheckbox>
   </h:panelGrid>
    <h:panelGrid columns="3"   style="margin-bottom:10px;font-size: 10px;background-color: rgb(191,213,232)" cellpadding="5" border="3" id="gridPeriodo">
    <h3 style="margin-top:0px">Seleccione Periodo </h3>
      <h:panelGrid columns="1" style="margin-bottom:10px">
      <ui:remove>
          <p:selectOneMenu id="peri" value="#{panelUsuario.periodoSelec}" style="width:155px">
            <f:selectItems value="#{panelUsuario.periodo}" var="peri" itemLabel="#{peri}" itemValue="#{peri}" />
              </p:selectOneMenu>
              </ui:remove>
  	    </h:panelGrid >
    <h:panelGrid columns="1" style="margin-bottom:10px" cellpadding="5" border="1" id="gridPeriAnual" >
  <h3 style="margin-top:0px">Periodo anual</h3>
   <ui:remove>
   <p:selectOneMenu id="periodoAnual" value="#{panelUsuario.periodoAnualSelec}" style="width:155px" >
           <f:selectItems value="#{panelUsuario.periodoAnual}" var="periodoAnual" itemLabel="#{periodoAnual}" itemValue="#{periodoAnual}" /> 
           </p:selectOneMenu>
           </ui:remove>
    </h:panelGrid>
    <h:panelGrid columns="3" style="margin-bottom:10px" cellpadding="5" border="1" id="gridPeriMensual">
      <h3 style="margin-top:0px">Periodo mensual</h3>
    <p:selectManyCheckbox id="periodoMensual" value="#{panelUsuario.periodoMensSelec}" layout="grid" columns="3" >
     <f:selectItems value="#{panelUsuario.periodoMens}" var="periodoMen" itemLabel="#{periodoMen}" itemValue="#{periodoMen}"
      itemDisabled="#{panelUsuario.mesesDisabled(periodoMen)}"/>
      <ui:remove>
      <p:ajax event="change" process="periodoMensual" update="gridZonas" /> 
     </ui:remove>
             </p:selectManyCheckbox>
    </h:panelGrid>
         <h:panelGrid columns="2" style="margin-bottom:10px" cellpadding="5" border="1" id="gridTipo">
       <h3 style="margin-top:0px">Seleccione Tipo </h3>
             <ui:remove>
             <p:selectOneMenu id="tipo" value="#{panelUsuario.tipoSelec}" style="width:155px">
             <f:selectItems value="#{panelUsuario.tipo}" var="tipo" itemLabel="#{tipo}" itemValue="#{tipo}" />
             </p:selectOneMenu>
             </ui:remove>
              </h:panelGrid>
              <h:panelGrid columns="1" style="margin-bottom:10px" cellpadding="5" border="1">
        <h:outputText value="" />
       <p:commandButton id="btnDescargar" value="HHEE General 2015" ajax="false" execute="@this" icon="ui-icon-arrowthick-1-s" immediate="true"  >
					<p:fileDownload value="#{verRepo.file}"  />
		</p:commandButton>
		<p:commandButton id="btnDescargar2" value="HHEE Promedio 2016" ajax="false" execute="@this" icon="ui-icon-arrowthick-1-s" immediate="true"  >
					<p:fileDownload value="#{verRepo.file2}"  />
		</p:commandButton>
		<p:commandButton id="btnDescargar3" value="HHEE Turno 2016" ajax="false" execute="@this" icon="ui-icon-arrowthick-1-s" immediate="true"  >
					<p:fileDownload value="#{verRepo.file3}"  />
		</p:commandButton>
		<p:commandButton id="btnDescargar4" value="HHEE Turno 2016xxx" ajax="false" process="@form" icon="ui-icon-arrowthick-1-s"  >
					<p:fileDownload value="#{verRepo.file7}"  />
		</p:commandButton>
     </h:panelGrid>
    </h:panelGrid >
  </h:form>
   </h:body>
</html>
